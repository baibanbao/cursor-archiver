---
title: 2020-04-01-贝叶斯原理
date: 2020-04-01 08:51
---

贝叶斯原理

大胖-240:@博雅同学190 问个问题，陈旧性心梗第一次体检有，第二次体检没有了，会自然消失的吗？
@wxid_8945119450822 这个需要用到贝叶斯定理
@大胖-240 先不考虑贝叶斯公式，我们用日常语言和常识来判断一下。
假设陈阳性心梗的发病率是1%（实际上应该低于这个数字），再假设被检验为阳性的人，80%是真的心梗（真阳性）；再假设9.6%的检查为阳性的人，实际上没有得心梗（假阳性）。
[Photo]
我们来看看这张图。
这个图怎么读？

- 1%的人患有心梗。

- 如果你已经有心梗了，你在第一列里，你有80%的几率被诊断为阳性，20%的几率被诊断为阴性。
- 如果你没有心梗，你在第二列里。你仍然有9.6%的几率被检查出阳性，90.4%的几率被检查出阴性。
现在你的检查结果呈阳性，那么实际得心梗的概率有多高呢？
89%， 20%， 1%？ 都不是。
我们来分析一下。
- ok，如果你得到了阳性结果。这意味着你在上面表格的第一行。我们先不说在第一列还是第二列，你可能是真阳性，也可能是假阳性。
- 真阳性的概率 = 你得心梗的概率 x 得了心梗而且被检查出阳性的概率 ，在这个例子中：你得心梗的概率是1%，真的得了心梗又被检查出阳性的概率 80%，所以，真阳性的概率= 1% x 80% = 0.8% ，不过概率上我们习惯记成小数，所以是 0.008
- 假阳性的概率 = 你不得心梗的概率 x 你不得心梗但是被检查出阳性的概率， 在这个例子里， 99% x 9.6% = 0.09504
于是我们得出一张新表格
现在问题又来了。如果检验结果是阳性，我们真的得了心梗的概率到底有多高？
这里要引入概率的定义了。
概率，又称或然率、机会率、机率（几率）或可能性，它是概率论的基本概念。概率是对随机事件发生的可能性的度量，一般以一个在0到1之间的实数表示一个事件发生的可能性大小。越接近1，该事件更可能发生；越接近0，则该事件更不可能发生。
概率 = 给定事件 / 所有的可能性
例如，我们扔硬币，国徽朝上的概率


概率 = 硬币国徽朝上（给定事件） ／ 硬币所有可能朝上的面 （所有得可能性）
在这个例子中，得到真正阳性结果的概率是0.008。 但是得到各种阳性结果的概率是（真阳性概率 + 假阳性的概率）。(0.008 + 0.09504 = 0.10304).
概率 = 给定事件 / 所有的可能性
给定事件，也就是真正阳性，即，0.008 
所有可能性， 在这里是阳性可能的相加， 即， 0.008 + 0.09504 = 0.10304
所以，真正得了心梗的概率就算出来了
概率 = 给定事件 / 所有的可能性

0.008 / 0.10304 = 0.0776 = 7.76%
@含山云容_茶笋汤-198 请从头往下看，已经解释得很清楚了。
所以，在这个例子中，即使拿到的检查报告，上面显示陈阳性心梗呈阳性，那么实际得了心梗的概率只有不到 7.8%。
有趣吧
即使检查为阳性，你得心梗的概率也不会是80%， 而是只有7.8%。
ZoomོQuiet~057:等等, 好中文写作班突然进行逻辑学扫盲的目的是....
沐沐周015:知道了，检查报告仅仅是一张纸，最终要看专科医生的意见，是吗？@豆腐刀 
@含山云容_茶笋汤-198 不是全是假设，根据不同的病，这些得病概率，和检查准确率，错误率，都是有统计数字的。
这是非常说的过去的。
大家想想，如果检查出来的假阳性高达 9.6% ，考虑到人口数，很多人都会被诊断错了。对于一个罕见病来说，绝大多数阳性诊断结果都错了。
我们抛开贝叶斯，用直觉的方法在推演一次。
假设地球上只有100人。
只有1个人得了心梗（1%发病率）。
这个人有80%的可能性，被检查出阳性。
剩下的99个人中，有接近10%的被检查出阳性。（9.6%的假阳性概率），所以，我们有10个假阳性。
@沐沐周015 文科才女，请你回答一下。
现在我们把所有检查结果为阳性的人，都叫到医务室来。
一共来了几个人？
谁回答一下
1个真阳性的病人，再加上10个被误诊的假阳性，ok？
11个阳性来到医务室，其中只有1真阳性。
所以，这个检查的概率是 11个里面只有1个正确，也就是 1/11的概率 9%对吧。
沐沐周015:医生误诊还是病人看了报告自以为是的给自己下结论?
沐沐周015:我爸妈都是医生，最恨病人拿了报告瞎猜疑
沐沐周015:报告仅仅是辅助工具
我们的直觉判断 1/11与真实的贝叶斯概率 7.8% (1/13)，还是比较接近的。
大家说呢？
沐沐周015:有不合格项目要继续延伸检查
你看，我没用任何公式，就解释了贝叶斯概率。
所以，很多疾病都需要复检，才能确定。
沐沐周015:是啊，我刚才就说了
沐沐周015:孤证不成立
沐沐周015:殊途同归，文科生理科生握握手吧@豆腐刀 
好的，今天的科普就到这里
我们一起静候老师给我们上课吧
沐沐周015:谢谢理科才子
为什么贝叶斯公式反直觉
我们对于概率的理解，远远没有对于频率高。
用频率作为信息来记忆或回忆更生动也更容易被提取，对于原始人来说，想想第一次打猎什么情形，第二次打猎什么情形，历历在目。正因为频率作为信息存储载体保留了事件的形象性，提高了记忆的可得性，因此在进化过程中人类的心理机制优先选择了频率而不是抽象的概率。而且在人类十多万年的进化过程中，出现概率概念的文明进程不过几千年，大脑还没有对进化到更适应抽象的概率的地步。
下面给大家出一个题目，供大家思考：
一个房间里有23个人，两个人同一天生日的概率有多高？
这是一道典型的反直觉的题目。
ZoomོQuiet~057:设定人数为n，每年365天（很显然n<=365，大于365已经不必计算）：不考虑是否相同，其生日组合数为365^n；生日互不相同，其组合为C（365，n）；生日互不相同的概率为C（365，n）/365^n；至少有一对生日相同的概率即为1-C（365，n）/365^n。可以使用Excel公式计算如下【=1-PERMUT(365,A2)/365^A2】：当人数为1时，很显然概率为0；当人数为23时，概率已经达到50%；当人数达到50时，概率已达到97%；当人数为100时，概率已经接近100%。

作者：这家伙德瑟的
链接：https://www.zhihu.com/question/30159803/answer/134226926
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
叶猛犸-089:按直觉，答案应该是低于10%
沐沐周015:区区大观园，同生日的好几个呢
ZoomོQuiet~057:佩哥哥在演示说明文体裁的嗯哼姿势...
沐沐周015:模仿的很像，但明显不是佩哥哥本尊
班门弄斧了，请@王佩 老师原谅
给大家再出一个思考题，上面讲的这个心梗的例子中，一个人检查结果是阴性，请问他真正是阴性的概率是多高？换个问法，如果一个人检查是阴性，但是他依然存在得了心梗的可能性，这个可能性有多高？
答案是：0.99777024616， 也就是99.78%的概率是没有得心梗，依然有0.22%的可能是得了心梗。
清浅K-247:@豆腐刀 好厉害的概率学。但是，按照计算，检查出阳性的人真得心梗的概率是7.8%，是随机概率1%的7.8倍。，所以应认真对待进行复查直至确认是误诊。
