我要求GPT-4写一本书。结果是： "亚特兰蒂斯的回声"，12章，115页，零人类投入。(包括过程)

提示工程

免费阅读该书：（谷歌文档）（PDF）（epub）

我在Medium的帖子： 用GPT-4生成一部完整的小说作品

我的完整的研究日志，包括所有的提示和回应：（Google Docs）（PDF）

由ElevenLabs生成的有声读物（部分）： 有声读物

这个项目的目标是让GPT-4从头开始生成整部小说，包括标题、体裁、故事、人物、背景和所有的文字，而不需要人工输入。目前，使用单一的提示不可能做到这一点，但有可能的是提供一系列的提示，给这个过程以结构，让它一步一步地完成这个大任务。然而，为了确保所有的创造性工作都由GPT-4完成，提示不允许具体提到书的内容，只允许提到书的结构。我们的意图是，这个过程应该是简单的、机械的，并且（原则上）可以完全自动化。每次从头开始重复这个过程，它应该创造另一本全新的书，完全基于GPT-4的独立创意选择。

其结果是： 亚特兰蒂斯的回声》，一本有12章115页的奇幻冒险小说，从GPT-4发布的那天起到现在，写了10天时间。

洞察力/技巧

我的主要见解是在做这个项目的过程中想明白的：

迭代完善： 从一个高水平的大纲开始。做一个详细的章节纲要。然后写一个完整章节的草稿（这将比预期的短得多）。然后将每个场景扩展为一个更长、更详细的场景。

束缚（由外而内）： GPT-4喜欢走得太远，写书中还不应该发生的部分。防止这种情况的关键是让它先写第一部分，然后写最后一部分，再填上中间的部分。最后一部分防止它走得太远，而前面的部分反过来约束前一部分的最后部分。除了顶层之外，在每一级细化中都会使用绑定。

单一提示： 通常情况下，通过使用一个大的提示，而不是一个运行中的对话，你可以灵活地决定到底哪些信息将被包括在输入缓冲区中，并确保所有的信息都与当前的任务有关。我精心设计了这种方法，将尽可能多的相关信息挤进令牌缓冲区。

连续性笔记： 要求它记下重要的细节，以便在进行时记住连续性和一致性。从上一个场景总结出来的连续性笔记开始，然后从上一个连续性笔记中折合出额外的连续性笔记。连续性笔记会随着时间的推移而增长；如果它们变得太长，请它总结一下。

修改大纲： 在某些情况下，人工智能会在写作中即兴发挥，例如将第五章的一些场景移到第四章，这就破坏了本书的内容。为了解决这个问题，我要求它在每一章之后回头更新其早期的、更高层次的大纲，并在继续之前重新生成每一章的开头和结尾的场景。这与真正的作者如何随着时间的推移修改他们的大纲非常相似。

数据清理： 有时输出会做一些奇怪的事情，比如从输入缓冲区复制标签，如 "开头段落"，或忘记给场景编号，或从零开始编号，或在开头添加一点游离文本。目前我手动清理这些问题，但一个完全自动化的解决方案必须处理这些问题。

提示的例子

这些只是一些例子。完整的细节，见我的研究日志。

第1级：顶层纲要

我：请为一本书写一份高水平的大纲。包括一份人物名单和对每个人物的简短描述。包括一个章节的清单和每一章发生的事情的简短摘要。你可以选择任何你想要的标题和体裁。

第1级：每章后更新大纲

我：请编辑并更新下面这本书的高级大纲，同时考虑到第一章已经发生的内容。

第2级：场景（边界）

我：请写一份详细的提纲，描述每一章的第一个场景。它应该描述该开篇场景中发生的事情，并为该章其余部分的故事做铺垫。不要总结整个章节，只总结第一个场景。

我：写一份详细的提纲，描述每一章的最后一幕。它应该描述这一章最后发生的事情，并为紧接着的下一章的开场戏做好故事铺垫。

第二层：场景

我：给定以下图书大纲，以及第一章的开头和结尾场景，写一份详细的章节大纲，列出本章的所有场景，并对每个场景进行简短描述。以下面的 "开场白 "开始写大纲，以下面的 "最后一幕 "结束大纲。

第三级：粗略的草稿

我：根据下面的书的大纲和第1章的详细章节大纲，写出第1章的初稿。给每个场景贴上标签。当你写到第1章的结尾时停止。它应该为紧接着的第二章的故事做准备。它应该以叙事风格来写，应该是长篇大论，详细而有吸引力。

第4级：段落（有界线）

我：给定下面的书的大纲，以及下面第一章的草稿，想象一下，你已经把这个草稿扩展成一个更长、更详细的章节。对于每个场景，给我第一段开头和最后一段，这个更长、更详细的版本的最后一段。把它们标为开头段和最后一段。开头段应该介绍场景。最后一段应该为接下来的场景设置故事，紧接着就会出现。最后一个场景的最后一段应该为下一章的故事做铺垫，下一章将紧随其后。

第4级：段落

我：根据下面的书的大纲，以及下面的第一章草稿，写一个更长、更详细的第1场戏。该场景必须以下列段落开始和结束： (此处为开头和结尾段落)

连贯性说明

我：请简要地记下场景中的任何重要细节或事实，以便你在写作本书的其余部分时需要记住，以确保连续性和一致性。给这些连续性笔记贴上标签。

我：将这些笔记与下面现有的先前的连续性笔记结合起来并加以总结。

对结果的反思

尽管在许多方面，这部作品确实是作为一部连贯的小说作品，按照它自己的大纲和它自己的大纲所决定的节奏进行的，而且有些部分确实令人激动，读起来很有趣（特别是最早和最近的几章），但我对称它为一本好书感到犹豫。它仍然有一些奇怪而有趣的问题：

没有介绍的参考： 偶尔，人工智能会引用一些还没有真正被介绍/解释的东西，比如兰登在第四章知道马拉哈尔勋爵，或者阿里亚在梦到尼利亚女王后有一个实体吊坠。感觉你一定是错过了什么。

开头/结尾段落周围的接缝： 由于开头和结尾的段落是在场景的其他部分之前写的，所以有时它们与其他部分的衔接并不顺畅，甚至最后是多余的。某种形式的额外通过可以帮助清理这个问题。同样，有时章节之间的过渡也会显得很突兀，比如从第八章到第九章（在迷宫中与马拉哈尔战斗，突然就有一条通往亚特兰蒂斯的通道打开）。

忘记了某些细节： 尽管某些细节被保留在 "连续性笔记 "或大纲中，但其他的细节却被它决定放弃，然后它们就再也不能被引用了，因为它们已经不在输入缓冲区中了。这方面的一个很好的例子是阿里亚作为毕业礼物得到的指南针，感觉很像契科夫的枪，再也没有人提起。另一个是他们一开始购买的特别独特的武器，这些武器从未被使用过。唯一明确的解决方案是，要么加大缓冲区，要么采用长期记忆方案。

重新安排： 人工智能将一些部分从后面的章节移到了前面的章节，尽管我尽力去约束它，比如早期的岛上的场景从第五章移到了第四章，早期的迷宫场景从第六章移到了第五章。解决这个问题的唯一真正方法是要求它事后编辑和更新它的高级大纲。这类似于人类作者的做法--他们很少把自己的大纲当作静态的、不可侵犯的。

节奏： 对我来说，迷宫的章节感觉有点费劲。它是一个接一个的陷阱室，持续时间很长。这些确实符合原来的大纲，所以原来的大纲是问题的一部分，但也有一些方法可以使迷宫感觉新颖和不同。在我看来，这感觉是GPT-4的一个创造性写作错误。

过于规则的结构： 几乎无一例外地，人工智能选择每章写6-8个场景，每个场景大约1-2页。这感觉不如很多人类写的作品那么有机，在这些作品中，有些场景/章节很短，有些则更长。开发一个动态的扩展结构可能会更好，在这个结构中，它继续扩展，直到它在某种程度上满意自己达到了所需的细节水平。

不同的详细程度： 与此相关的是，有些场景相当详细，包括对话和细微的行动，而另一些场景（甚至是更重要的场景）似乎只用一个摘要就轻而易举地越过了重要的大时刻。同样，我认为某种动态扩展以实现一致的细节水平可以在这方面有所帮助。

一些有趣的说明

在第五章的第三场中，GPT-4自发地在迷宫中写了一个他们必须解决的原创谜语： "在我的墙内，我有一片海，/但你不会看到一滴水。/有许多条路可走，/但只有一条能带你回家。/ 我是什么？" 亚历克斯想明白了，答案是 "一张地图"。

至少在三个地方，《GPT-4》在本章即将结束时偷偷地提到了 "她生活的下一章 "或 "他们冒险的下一章"。非常玄幻。

常见问题

问：在选择哪些答案要保留，哪些答案要丢掉时，你没有表现出很大的作者控制力吗？

事实上，重新生成答案的情况很少，只有在我发现过程中有严重的问题，或者书中有严重的逻辑问题，而我又想不出如何通过过程的改变来解决时，我才会这样做。这种情况总共最多发生过4-5次。至少有95%的时间，书中的文字是我从GPT-4得到的第一个回应。你可以在我的研究日志的笔记中看到这一点。

问：这本书不是很好。我认为专业作者不会有太大的担心。

没错，但这不是重点。这是一个概念证明：人工智能能不能从头到尾写一整本书，100多页，同时保持连贯性，并遵循其最初计划的大纲？而不需要人类介入并告诉它该如何处理故事或人物？答案是肯定的。此外，我认为它在某些部分是相当令人愉快的。当然，下一个GPT模型也只会是一个更好的作者。

问：ChatGPT Plus上的GPT-4查询不是有速率限制吗？你怎么可能在10天内写了100多页？

是的，而且我打过很多次。但是，由于我的提示和ChatGPT的回复都非常长，所以我能够从每个提示中挤出绝对的最大文字。此外，GPT-4接受的提示输入比GPT-3或Bing都要长得多，这对确保我能够包含尽可能多的上下文帮助很大。另外，在GPT-4发布后的早期，这个限制也比较高。

问：这需要GPT-4吗？它与GPT-3相比有何不同？

我以前用GPT-3尝试过，但遇到了一些问题，主要是在故事中写得太靠前而偏离了轨道。绑定技术可能有帮助，我还没有试过--部分原因是处理较小的输入缓冲区很麻烦。需要进一步调查。

问：我可以使用你的书或你的过程或你的提示吗？

请随意，我是在空闲时间做的，在知识共享零豁免（CC0）下，我把所有这些都放进了公共领域，并声明不享有任何知识产权。

___

我知道你们中的一些人一直在从事类似的图书项目，所以如果你们有的话，我将感谢你们对哪些工作和哪些不工作的任何额外见解。如果你自己尝试了我的任何技术或提示，让我知道它们是否有帮助。

对于那些花时间阅读这本书的人，请让我知道你对这本书的看法 你可以说实话，我知道它仍然有很多问题。）